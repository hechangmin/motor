!function(a,b){var c={openTag:"<%",closeTag:"%>",escape:!0},d={},e=function(a){if(b!==a){if("string"==typeof a)return e.template.apply(this,arguments);for(var d in a)c[d]=a[d]}};if(e.version="1.0.0",!a.jstpl){a.jstpl=e,e.template=function(b,c){var e,g,h,i=!/[^a-zA-Z10-9_-]/.test(b);if(i){if(!a.document)throw"param error : [non browser, nonsupport element id]";d[b]?g=d[b]:(e=document.getElementById(b),h=e.value||e.innerHTML,g=d[b]=arguments.callee(h))}else g=f(b);return c?g(c):g};var f=function(a){var b="var _$jstpl='',__fn__=(function(__d__){var __v__='';for(var __k__ in __d__){__v__+=('var '+__k__+'=__d__[\"'+__k__+'\"];');};eval(__v__);_$jstpl+='"+h(a)+"';__v__=null;})(param);__fn__ = null;return _$jstpl;";return new Function("param",b)},g=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")};e.avoidXSS=function(a){var b={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};return String(a).replace(/[&<>"']/g,function(a){return b[a]})};var h=function(a){var b=g(c.openTag),d=g(c.closeTag),e=c.escape;return a=String(a).replace(new RegExp("("+b+"[^"+d+"]*)//.*\n","g"),"$1").replace(new RegExp("<!--.*?-->","g"),"").replace(new RegExp("[\\r\\t\\n]","g"),""),a.replace(new RegExp(b+"(.*?)"+d,"g"),function(a,b){var c=b;return 0==b.indexOf("=")&&(c=c.substr(1),c=e?"jstpl.avoidXSS("+c+")":c,c="_$jstpl+="+c+";"),"';"+c+"_$jstpl += '"})};"function"==typeof define?define(function(){return e}):"undefined"!=typeof exports&&(module.exports=e)}}(window);
//# sourceMappingURL=jstpl.js.map